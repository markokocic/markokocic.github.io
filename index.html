<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Marko Kocić Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Cache-Control" value="max-age=900">
    <link href='//fonts.googleapis.com/css?family=Alegreya:400italic,700italic,400,700' rel='stylesheet'
          type='text/css'>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,400italic">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/default.min.css">
    <link href="/css/screen.css" rel="stylesheet" type="text/css" />
  </head>
<body>


<nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/index.html">Marko Kocić Blog</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li  class="active" ><a href="/index.html">Home</a></li>
        <li
          ><a href="/archives.html">Archives</a></li>
        
        <li
          >
          <a href="/pages/about.html">About</a>
        </li>
        
        <li><a href="/feed.xml">RSS</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container-fluid -->
</nav>


<div class="container">
  <div class="row">
    <div class="col-lg-9">
      <div id="content">
        
<div id="post">
    <div class="post-header">
    <div id="post-meta" class="row">
        <div class="col-lg-6">October 22, 2019</div>
        
    </div>
    <h2>Add Root Certificate to Java Keystore</h2>
</div>
<div>
    
    <div class="sect2">
<h3 id="_ssl_certificates">SSL Certificates</h3>
<div class="paragraph">
<p>It certainly happened to you that you want to use your Java based application to connect to some https resource which doesn&#8217;t have a valid or trusted certificate. While https and SSL certeficates are used to make sure that the site you connect to is trusted, sometimes you may want to override that settings and proclaim that the site with the given (self signed, invalid, &#8230;&#8203;) certificate is secure.</p>
</div>
<div class="paragraph">
<p>This can be done quite easy by adding that certificate to the Java certificate trust store.</p>
</div>
<div class="paragraph">
<p>All you need is a keytool command that comes with the Java Development Kit and the certificate.</p>
</div>
<div class="paragraph">
<p>The easiest way to get the actual certificate is to open the https url in your browser and export certificate from there into the, i.e cert1.cer file.</p>
</div>
<div class="paragraph">
<p>Then all you need is to execute the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>keytool -import -trustcacerts -keystore keystore1.p12 -alias cert1_alias -file exported_cert.cer</code></pre>
</div>
</div>
<div class="paragraph">
<p>And that&#8217;s basically it. The keytool will ask you for the keystore password and confirmation if you are sure what you are doing.</p>
</div>
<div class="paragraph">
<p>From then on your Java program that uses given truststore will trust all certificates that you imported.</p>
</div>
<div class="paragraph">
<p>BTW, if your application doesn&#8217;t explicitly use it&#8217;s own trust store, you can add your trusted certificate to the default Java CA store in a similar way.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>keytool -import -trustcacerts -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit -alias cert1_alias -file exported_cert.cer</code></pre>
</div>
</div>
<div class="paragraph">
<p>But be careful. This will make the certificate trusted to all application using given Java runtime environmtent, and this may not be what you want to do.</p>
</div>
</div>
</div>

<div id="post-tags">
    <b>Tags: </b>
    
    <a href="/java.html">java</a>
    
    <a href="/certificate.html">certificate</a>
    
    <a href="/ssl.html">ssl</a>
    
</div>


    

    <div id="prev-next">
        
        
        <a class="right" href="/posts/2016-11-22-sticky-folders-on-linux.html">Sticky folders on Linux &raquo;</a>
        
    </div>
</div>

      </div>
    </div>

    <div class="col-md-3">
      <div id="sidebar">
	<h3>Me on the Web</h3>
	<ul id="me">
	  <li><a href="https://de.linkedin.com/in/markokocic" target="_blank">LinkedIn</a></li>
	  <li><a href="https://www.xing.com/profile/Marko_Kocic4" target="_blank">Xing</a></li>
	  <li><a href="https://github.com/markokocic" target="_blank">Github</a></li>
	  <li><a href="https://stackoverflow.com/users/31141/marko" target="_blank">Stackoverflow</a></li>
          <li><a href="/pages/marko-kocic-cv.html" target="_blank">Marko Kocic CV</a></li>
          <li><a href="/img/MarkoKocicCV.pdf" target="_blank">Marko Kocic CV - PDF</a></li>
	</ul>
        <h3>Links</h3>
        <ul id="links">
          
          <li><a href="/pages/marko-kocic-cv.html">Marko Kocic CV</a></li>
          
        </ul>
        
        <div id="recent">
          <h3>Recent Posts</h3>
          <ul>
            
            <li><a href="/posts/2019-10-22-Add-Root-Certificate-to-Java-Keystore.html">Add Root Certificate to Java Keystore</a></li>
            
            <li><a href="/posts/2016-11-22-sticky-folders-on-linux.html">Sticky folders on Linux</a></li>
            
            <li><a href="/posts/2016-01-04-umatrix.html">uMatrix and uBlock</a></li>
            
            <li><a href="/posts/2015-11-10-jes-eur.html">Jes EÜR</a></li>
            
          </ul>
        </div>
        
        
        <div id="tags">
          <h3>Tags</h3>
          <ul>
            
            <li><a href="/freelancer.html">freelancer</a></li>
            
            <li><a href="/security.html">security</a></li>
            
            <li><a href="/web.html">web</a></li>
            
            <li><a href="/privacy.html">privacy</a></li>
            
            <li><a href="/taxes.html">taxes</a></li>
            
            <li><a href="/nature.html">nature</a></li>
            
            <li><a href="/software.html">software</a></li>
            
            <li><a href="/linux.html">linux</a></li>
            
            <li><a href="/java.html">java</a></li>
            
            <li><a href="/certificate.html">certificate</a></li>
            
            <li><a href="/ssl.html">ssl</a></li>
            
            <li><a href="/firefox.html">firefox</a></li>
            
            <li><a href="/journal.html">journal</a></li>
            
          </ul>
        </div>
        
      </div>
    </div>
  </div>
  <footer>Copyright &copy; 2019 Marko Kocić
    <p style="text-align: center;">Powered by <a href="http://cryogenweb.org">Cryogen</a></p></footer>
</div>
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="/js/highlight.pack.js" type="text/javascript"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>
  // Googly Analytics
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-67749142-1', 'auto'); ga('send', 'pageview');
</script>
</body>
</html>
